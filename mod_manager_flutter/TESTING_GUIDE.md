# Інструкція з тестування Keybinds

## Підготовка до тестування

### 1. Створення тестових даних

1. Переконайтеся що `saveModsPath` налаштований в додатку (в Settings)
2. Створіть папку для тестового персонажа в `savemods`:
   ```
   savemods/
     └── anby/           # або будь-який інший персонаж
         └── config.ini  # файл з keybinds
   ```

3. Скопіюйте приклад з `EXAMPLE_CONFIG.ini` в створений файл або створіть свій

### 2. Приклад структури INI файлу

```ini
[keySwap]
Key1=VK_F1
Key2=VK_F2
SwapMode=toggle

[KeyUP]
Key=VK_UP
Action=jump
Speed=1.5

[CustomKeybinds]
OpenMenu=VK_M
ToggleHUD=VK_H
```

## Тестування на Windows

### Крок 1: Запуск додатку

```powershell
cd "C:\Users\notio\Repos\Mod-manager\mod_manager_flutter"
flutter run -d windows
```

### Крок 2: Перевірка відображення

1. Відкрийте вкладку "Mods"
2. Якщо INI файли існують, ви побачите:
   - **Бейдж з числом** на картці персонажа (показує кількість keybinds)
   - **Панель з keybinds** після списку персонажів (коли персонаж вибраний)

### Крок 3: Перевірка функціональності

1. **Перегляд keybinds**:
   - Виберіть персонажа з keybinds
   - Панель повинна з'явитися автоматично
   - Повинні відображатися всі секції з INI файлу

2. **Копіювання значень**:
   - Клікніть на значення або іконку copy
   - Значення має скопіюватися в буфер обміну
   - Повинен з'явитися Snackbar з підтвердженням

3. **Масштабування UI**:
   - Змініть масштаб UI в Settings
   - Панель keybinds має масштабуватися разом з іншими елементами

### Крок 4: Перевірка edge cases

1. **Порожні файли**: Створіть порожній .ini файл - не повинно бути помилок
2. **Файли без keybind-секцій**: Створіть INI з іншими секціями - не має відображатися
3. **Кілька INI файлів**: Додайте декілька .ini файлів - всі мають зчитатися
4. **Неіснуючий персонаж**: Видаліть папку - бейдж має зникнути

## Тестування на Linux

### Якщо у вас є доступ до Linux машини:

```bash
cd ~/Mod-manager/mod_manager_flutter
flutter run -d linux
```

### Перевірка крос-платформності:

1. Шляхи повинні працювати коректно (без `\` або `/` проблем)
2. Парсинг INI має працювати однаково
3. UI має виглядати однаково

## Очікувані результати

### ✅ Успішне тестування:

- Keybinds відображаються для персонажів з INI файлами
- Бейдж показує правильну кількість keybinds
- Копіювання працює коректно
- Немає помилок в консолі
- Масштабування працює правильно

### ❌ Можливі проблеми:

1. **Keybinds не відображаються**:
   - Перевірте консоль на помилки (починаються з `IniParserService:`)
   - Перевірте що `saveModsPath` налаштований
   - Перевірте що INI файли існують і мають правильні секції

2. **Бейдж не з'являється**:
   - Перевірте що секції мають правильні назви (keyswap, keyup, keybind тощо)
   - Перевірте структуру INI файлу

3. **UI не масштабується**:
   - Перевірте що `ref.watch(uiScaleProvider)` передається правильно

## Додаткове тестування

### Тест продуктивності

Створіть великий INI файл (100+ keybinds) і перевірте:
- Швидкість завантаження
- Плавність прокрутки
- Використання пам'яті

### Тест на багато персонажів

Створіть 10+ папок персонажів з INI файлами і перевірте:
- Час завантаження всіх keybinds
- Відображення багатьох бейджів одночасно

## Логування

Для дебагу, подивіться на логи в консолі:
- `IniParserService: *` - повідомлення парсера
- `ModManagerService: *` - повідомлення сервісу модів
- `Failed to load keybinds: *` - помилки завантаження

## Звіт про тестування

Після тестування заповніть:

- [ ] Keybinds відображаються на Windows
- [ ] Бейдж працює правильно  
- [ ] Копіювання працює
- [ ] Масштабування працює
- [ ] Немає помилок в консолі
- [ ] Протестовано з різними INI файлами
- [ ] Протестовано edge cases
- [ ] (Опціонально) Протестовано на Linux
