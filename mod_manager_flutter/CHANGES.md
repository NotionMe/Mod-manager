# Зміни в Mod Manager

## Виправлення та покращення (Latest)

### 1. Додано опцію "ALL" для перегляду всіх скінів
- Додано новий персонаж "ALL" на початок списку персонажів
- Показує всі скіни без фільтрації за персонажем
- Іконка: градієнтна іконка з Icons.apps
- Корисно для перегляду скінів, які не привязані до конкретного персонажа

### 2. Змінено відображення скінів на сітку (Grid Layout)
- Скіни тепер відображаються в сітці 4 колонки
- Замість горизонтального списку використовується GridView
- Підтримка wrap-режиму - скіни автоматично переносяться на новий рядок
- Покращена видимість та організація скінів

### 3. Виправлено проблему з перезавантаженням карточок
- **Проблема**: При виборі/деактивації скіна карточки перезавантажувалися і скрол скидався вгору
- **Рішення**: 
  - Функція `toggleMod` тепер оновлює стан локально без повного перезавантаження
  - Використовуються `copyWith` для оновлення тільки потрібних модів
  - Додано унікальні ключі для карточок: `ValueKey('mod_${mod.id}_${mod.isActive}')`
  - Видалено непотрібний debounce timer

### 4. Виправлено проблему з оновленням фото скінів
- **Проблема**: При додаванні фото через буфер обміну воно не відображалося одразу
- **Рішення**:
  - Функція `_pasteImageFromClipboard` тепер оновлює стан локально
  - Очищується весь image cache: `imageCache.clear()` та `imageCache.clearLiveImages()`
  - Додано `setState()` для форсування перебудови
  - Змінено ключ для Image.file: `ValueKey('${widget.mod.id}_${widget.mod.imagePath}')`
  - Видалено використання `DateTime.now()` в ключі, який викликав постійну перебудову

### 5. Видалено обмеження на розмір вікна
- Видалено параметр `maximumSize` з WindowOptions
- Тепер користувач може робити вікно будь-якого розміру
- Оновлено розміри за замовчуванням:
  - Мінімальний розмір: 800x500 (було 900x600)
  - Розмір за замовчуванням: 1400x900 (було 1000x700)

## Технічні деталі

### Оптимізації продуктивності
- Локальне оновлення стану замість повного перезавантаження модів
- Кешування останнього стану персонажів для запобігання зайвих перебудов
- Використання унікальних ключів для віджетів
- Очищення image cache для негайного оновлення зображень

### Покращення UX
- Миттєве відображення змін при активації/деактивації модів
- Збереження позиції скролу при змінах
- Негайне відображення нових зображень після додавання
- Більш зручний перегляд модів в сітці

## Файли змінено
- `lib/screens/mods_screen.dart` - основні виправлення
- `lib/main.dart` - видалення обмеження розміру вікна
- `lib/core/constants.dart` - оновлення розмірів вікна
